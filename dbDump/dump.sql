CREATE DATABASE shortly;

CREATE TABLE users (
	id SERIAL PRIMARY KEY,
	name VARCHAR(500) NOT NULL,
	email VARCHAR(500) UNIQUE NOT NULL,
	password VARCHAR(500) NOT NULL,
	created_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE sessions (
	id SERIAL PRIMARY KEY,
	user_id INT REFERENCES "users"("id") NOT NULL,
	token VARCHAR(500) UNIQUE NOT NULL,
	created_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE urls (
	id SERIAL PRIMARY KEY,
	user_id INT REFERENCES "users"("id") NOT NULL,
	url TEXT NOT NULL,
	short_url TEXT NOT NULL,
	created_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE visit_count (
	id SERIAL PRIMARY KEY,
	url_id INT REFERENCES "urls"("id") NOT NULL,
	created_at TIMESTAMP DEFAULT NOW()
);
